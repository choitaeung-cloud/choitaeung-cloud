<h1>게시판 목록</h1>

<div class="search-form">
    <form method="GET" action="/posts" style="display: flex; width: 100%;">
        <input type="text" name="search" placeholder="제목 검색" value="{{search}}" required>
        <button type="submit" class="btn btn-primary">검색</button>
        {{#if search}}
        <a href="/posts" class="btn btn-danger" style="margin-left: 5px; line-height: 1;">검색 초기화</a>
        {{/if}}
    </form>
</div>

<div class="post-list">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>제목</th>
                <th>작성일</th>
            </tr>
        </thead>
        <tbody>
            {{#each posts}}
            <tr>
                <td>{{this._id}}</td>
                <td><a href="/posts/{{this._id}}">{{this.title}}</a></td>
                <td>{{this.createdAt}}</td>
            </tr>
            {{else}}
            <tr>
                <td colspan="3" style="text-align: center;">게시글이 없습니다.</td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>

{{!-- <div class="pagination">...</div> --}}


<hr>
<h2>✍️ 새 글 작성</h2>

<form method="POST" action="/posts">
    <div class="form-group">
        <label for="title">제목</label>
        <input type="text" id="title" name="title" required>
    </div>
    <div class="form-group">
        <label for="content">내용</label>
        <textarea id="content" name="content" rows="5" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">등록</button>
</form>